---
title: Fantasy Football with R - pt. 01
author: Alexander C. Hungerford
date: '2020-11-23'
slug: []
categories:
  - fantasy football
tags:
  - winners
  - league history
description: ''
featured: ''
featuredalt: ''
featuredpath: ''
linktitle: ''
---

<link href="index_files/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="index_files/anchor-sections/anchor-sections.js"></script>


<p>I play in a fantasy football league with 11 of my closest friends. A constant headache for everyone is the user experience of ESPN’s fantasy football site. Looking up information about our league history is especially challenging. As a result we end up with disjointed communications dispersed across email, slack, text, etc.. Our commissioners do their best to keep a spreadsheet, but it can be tedious, and the rest of us don’t see updates in real-time.</p>
<p>My goal is to use the R ecosystem to build a dashboard that each general manager (the 12 of us) can use to get the information we need at any time. This will be the first in a series of R tutorials documenting that process.</p>
<div id="setup" class="section level2">
<h2>Setup</h2>
<p>You will need to install some packages if you haven’t already. You can type <code>install.packages(packageName)</code> into the console.</p>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
</div>
<div id="data-input-creating-lists" class="section level2">
<h2>Data Input: creating lists</h2>
<p>The first thing I want to do is create a list of all the GMs in the league. I also need a list of years our league has been active. Finally, I need to know which GMs placed 1st, 2nd, and 3rd.</p>
<p>In podium placement I input each GM sequentially by year. So in 2012, Mik, Jon, and Katz placed 1st, 2nd, and 3rd, respectively. In 2013, Nate, Alex, and and Katz placed 1st, 2nd, and 3rd, respectively, and so on.</p>
<pre class="r"><code># create a list of GMs
gm &lt;- c(&quot;Alex&quot;, &quot;Ashton&quot;, &quot;Colby&quot;, &quot;Katz&quot;, &quot;Dave&quot;, &quot;Brett&quot;, &quot;Ian&quot;, &quot;Jack&quot;, &quot;Jon&quot;, &quot;Chris&quot;, &quot;Todd&quot;, &quot;Nate&quot;)

# list of years league has been active
year &lt;- c(2012:2019)

# podium placement
first &lt;- c(&quot;Mik&quot;, &quot;Nate&quot;, &quot;Nate&quot;, &quot;Chris&quot;, &quot;Nate&quot;, &quot;Nate&quot;, &quot;Dave&quot;, &quot;Dave&quot;)
second &lt;- c(&quot;Jon&quot;, &quot;Alex&quot;, &quot;Ian&quot;, &quot;Ross&quot;, &quot;Jon&quot;, &quot;Chris&quot;, &quot;Jon&quot;, &quot;Jon&quot;)
third &lt;- c(&quot;Katz&quot;, &quot;Katz&quot;, &quot;Jack&quot;, &quot;Dave&quot;, &quot;Katz&quot;, &quot;Katz&quot;, &quot;Chris&quot;, &quot;Ross&quot;)</code></pre>
</div>
<div id="what-is-a-tibble" class="section level2">
<h2>What is a tibble?</h2>
<p>Now that I have my data in lists, I can create a <strong>tibble</strong> from those lists.</p>
<ul>
<li>Tibbles never change your data <em>type</em>. So <strong>strings</strong> will not be converted into <strong>factors</strong>.</li>
<li>Tibbles only display the first 10 rows of data.</li>
<li>Tibbles only display the columns that will fit on your screen.</li>
<li>Tibbles summarize for you how many rows and columns you have.</li>
</ul>
<p>Why? So you don’t accidentally print large datasets that will overload the memory of your console.</p>
<pre class="r"><code># create a tibble from lists
podium &lt;- tibble(year, first, second, third)
podium</code></pre>
<pre><code>## # A tibble: 8 x 4
##    year first second third
##   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;
## 1  2012 Mik   Jon    Katz 
## 2  2013 Nate  Alex   Katz 
## 3  2014 Nate  Ian    Jack 
## 4  2015 Chris Ross   Dave 
## 5  2016 Nate  Jon    Katz 
## 6  2017 Nate  Chris  Katz 
## 7  2018 Dave  Jon    Chris
## 8  2019 Dave  Jon    Ross</code></pre>
<div id="subsetting-a-tibble" class="section level3">
<h3>Subsetting a Tibble</h3>
<ul>
<li><code>$</code> only extracts by name.</li>
<li><code>[[</code> extracts by name or position.</li>
<li><strong>Remember: lists in R are 1-indexed.</strong> In other languages they’re 0-indexed (Python/C).</li>
</ul>
<pre class="r"><code># extract the last column (by name)
podium$third</code></pre>
<pre><code>## [1] &quot;Katz&quot;  &quot;Katz&quot;  &quot;Jack&quot;  &quot;Dave&quot;  &quot;Katz&quot;  &quot;Katz&quot;  &quot;Chris&quot; &quot;Ross&quot;</code></pre>
<pre class="r"><code># extract the first column (by name)
podium$year</code></pre>
<pre><code>## [1] 2012 2013 2014 2015 2016 2017 2018 2019</code></pre>
<pre class="r"><code># extract the last column (by name - base R)
podium[&quot;third&quot;]</code></pre>
<pre><code>## # A tibble: 8 x 1
##   third
##   &lt;chr&gt;
## 1 Katz 
## 2 Katz 
## 3 Jack 
## 4 Dave 
## 5 Katz 
## 6 Katz 
## 7 Chris
## 8 Ross</code></pre>
<pre class="r"><code># extract the first column (by name - base R)
podium[&quot;year&quot;]</code></pre>
<pre><code>## # A tibble: 8 x 1
##    year
##   &lt;int&gt;
## 1  2012
## 2  2013
## 3  2014
## 4  2015
## 5  2016
## 6  2017
## 7  2018
## 8  2019</code></pre>
<pre class="r"><code># extract the last column (by position)
podium[[4]]</code></pre>
<pre><code>## [1] &quot;Katz&quot;  &quot;Katz&quot;  &quot;Jack&quot;  &quot;Dave&quot;  &quot;Katz&quot;  &quot;Katz&quot;  &quot;Chris&quot; &quot;Ross&quot;</code></pre>
<pre class="r"><code># extract the first column (by position)
podium[[1]]</code></pre>
<pre><code>## [1] 2012 2013 2014 2015 2016 2017 2018 2019</code></pre>
</div>
</div>
<div id="dplyr---filter-select-mutate-summarize" class="section level2">
<h2>dplyr - filter, select, mutate, summarize</h2>
</div>
<div id="create-a-matrix-from-a-list" class="section level2">
<h2>Create a Matrix from a List</h2>
<p>Next I take each list and turn it into a column to make a matrix. <code>cbind()</code> stands for column bind and does exactly what I need. If you want to check that your matrix is in fact a matrix, and not a “tibble” or a “dataframe” you can use <code>is.matrix()</code>.</p>
<pre class="r"><code># create a matrix called &quot;winners&quot;, show output
winners &lt;- cbind(first, second, third)
winners</code></pre>
<pre><code>##      first   second  third  
## [1,] &quot;Mik&quot;   &quot;Jon&quot;   &quot;Katz&quot; 
## [2,] &quot;Nate&quot;  &quot;Alex&quot;  &quot;Katz&quot; 
## [3,] &quot;Nate&quot;  &quot;Ian&quot;   &quot;Jack&quot; 
## [4,] &quot;Chris&quot; &quot;Ross&quot;  &quot;Dave&quot; 
## [5,] &quot;Nate&quot;  &quot;Jon&quot;   &quot;Katz&quot; 
## [6,] &quot;Nate&quot;  &quot;Chris&quot; &quot;Katz&quot; 
## [7,] &quot;Dave&quot;  &quot;Jon&quot;   &quot;Chris&quot;
## [8,] &quot;Dave&quot;  &quot;Jon&quot;   &quot;Ross&quot;</code></pre>
<pre class="r"><code># check that &quot;winners&quot; really is a matrix
is.matrix(winners)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<p>Since each row represents a different year, I need to reflect that. Now we have our winners matrix complete by year.</p>
<pre class="r"><code># assign row and column names to matrix
dimnames(winners) = list(year, c(&quot;first&quot;, &quot;second&quot;, &quot;third&quot;))
winners</code></pre>
<pre><code>##      first   second  third  
## 2012 &quot;Mik&quot;   &quot;Jon&quot;   &quot;Katz&quot; 
## 2013 &quot;Nate&quot;  &quot;Alex&quot;  &quot;Katz&quot; 
## 2014 &quot;Nate&quot;  &quot;Ian&quot;   &quot;Jack&quot; 
## 2015 &quot;Chris&quot; &quot;Ross&quot;  &quot;Dave&quot; 
## 2016 &quot;Nate&quot;  &quot;Jon&quot;   &quot;Katz&quot; 
## 2017 &quot;Nate&quot;  &quot;Chris&quot; &quot;Katz&quot; 
## 2018 &quot;Dave&quot;  &quot;Jon&quot;   &quot;Chris&quot;
## 2019 &quot;Dave&quot;  &quot;Jon&quot;   &quot;Ross&quot;</code></pre>
</div>
<div id="turn-a-matrix-into-a-dataframe" class="section level2">
<h2>Turn a Matrix into a Dataframe</h2>
<p>Data frames</p>
<pre class="r"><code># turn matrix into data frame, show output
winners_df &lt;- data.frame(winners)
winners_df</code></pre>
<pre><code>##      first second third
## 2012   Mik    Jon  Katz
## 2013  Nate   Alex  Katz
## 2014  Nate    Ian  Jack
## 2015 Chris   Ross  Dave
## 2016  Nate    Jon  Katz
## 2017  Nate  Chris  Katz
## 2018  Dave    Jon Chris
## 2019  Dave    Jon  Ross</code></pre>
<pre class="r"><code># confirm winners_df is an R dataframe
is.data.frame(winners_df)</code></pre>
<pre><code>## [1] TRUE</code></pre>
</div>
